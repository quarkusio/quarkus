<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/POM/4.0.0"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    {#include pom-parent /}
    <groupId>{project.group-id}</groupId>
    <artifactId>{project.artifact-id}</artifactId>
    <version>{project.version}</version>
    {#if project.name }
    <name>{project.name}</name>
    {/if}
    {#if project.description }
    <description>{project.description}</description>
    {/if}
    {#include pom-properties /}
    {#include pom-dependency-management /}

    {#if maven.repositories}

    <repositories>
        {#for rep in maven.repositories}
        <repository>
            <id>{rep.id}</id>
            <url>{rep.url}</url>
            <releases>
                <enabled>{rep.releases-enabled ?: true}</enabled>
            </releases>
            <snapshots>
                <enabled>{rep.snapshots-enabled ?: true}</enabled>
            </snapshots>
        </repository>
        {/for}
    </repositories>
    {/if}
    {#if maven.plugin-repositories}

    <pluginRepositories>
        {#for rep in maven.plugin-repositories}
        <pluginRepository>
            <id>{rep.id}</id>
            <url>{rep.url}</url>
            <releases>
                <enabled>{rep.releases-enabled ?: true}</enabled>
            </releases>
            <snapshots>
                <enabled>{rep.snapshots-enabled ?: true}</enabled>
            </snapshots>
        </pluginRepository>
        {/for}
    </pluginRepositories>
    {/if}

    <dependencies>
        {#each dependencies}
        {#include pom-dependency dep=it scope='compile' /}
        {/each}

        <!-- Test dependencies -->
        <dependency>
            <groupId>io.quarkus</groupId>
            <artifactId>quarkus-junit5</artifactId>
            <scope>test</scope>
        </dependency>
        {#each test-dependencies}
        {#include pom-dependency dep=it scope='test' /}
        {/each}
    </dependencies>

    <build>
        <plugins>
            <!-- Quarkus build plugin - also provides the quarkus:dev live-reload feature -->
            <plugin>
                {#if quarkus.maven-plugin.version != quarkus.platform.version || quarkus.maven-plugin.group-id != quarkus.platform.group-id}
                <groupId>{quarkus.maven-plugin.group-id}</groupId>
                {#else}
                <groupId>$\{quarkus.platform.group-id}</groupId>
                {/if}
                <artifactId>{quarkus.maven-plugin.artifact-id}</artifactId>
                {#if quarkus.maven-plugin.version != quarkus.platform.version || quarkus.maven-plugin.group-id != quarkus.platform.group-id}
                <version>$\{quarkus-plugin.version}</version>
                {#else}
                <version>$\{quarkus.platform.version}</version>
                {/if}
                <extensions>true</extensions>
                <executions>
                    <execution>
                        <goals>
                            <goal>build</goal>
                            <goal>generate-code</goal>
                            <goal>generate-code-tests</goal>
                            {#if generate-native and quarkus.platform.version.compareVersionTo("3.12") >= 0}
                            <goal>native-image-agent</goal>
                            {/if}
                        </goals>
                    </execution>
                </executions>
            </plugin>
            {#include pom-plugins /}
        </plugins>
    </build>
    {#if generate-native}
    
    <profiles>
        {#include pom-profiles-native /}
    </profiles>
    {/if}
</project>
